1. Done and Tested
JCR/OCM persistent subscriptions
 - scope of subscriptions
 - bindingRefined
 - throwing CREATE,DELETE,ADD_CHILD,REMOVE_CHILD,ADD_REFERENCE,REMOVE_REFERENCE and UPDATE events

JCR/OCM demarcated subscriptions
 - throwing CREATE,DELETE,ADD_CHILD,REMOVE_CHILD,ADD_REFERENCE,REMOVE_REFERENCE and UPDATE events

JPA/Hibernate persistent subscriptions
 - scope of subscriptions 
 - bindingRefined
 - throwing CREATE,DELETE,ADD_CHILD,REMOVE_CHILD,ADD_REFERENCE,REMOVE_REFERENCE and UPDATE events

JPA/Hibernate demarcated subscriptions
 - throwing CREATE,DELETE,ADD_CHILD,REMOVE_CHILD,ADD_REFERENCE,REMOVE_REFERENCE and UPDATE events

Timer Event
 - OCCUR,CREATE,SUSPEND,RESUME,TERMINATE,PARENT_TERMINATE
 - timerStart CaseFileItem
 - timerStart PlanItem

Milestone
 - entry criteria achieved
 - requiredRule
 - repetitionRule
 - OCCUR,CREATE,SUSPEND,RESUME,TERMINATE,PARENT_TERMINATE

CaseTask
 - basic call
 - entry criteria achieved
 - automaticActivationRule
 - exit criteria achieved
 - parameterMapping
 - EXIT,DISABLE,ENABLE,MANUAL_START,START,COMPLETE,TERMINATE,FAULT,SUSPEND,RESUME,REENABLE,REACTIVATE,CREATE

Human Task
 - automaticActivationRule
 - repetitionRule
 - entry criteria achieved
 - exit criteria achieved
 - EXIT,DISABLE,ENABLE,MANUAL_START,START,COMPLETE,TERMINATE,FAULT,SUSPEND,RESUME,REENABLE,REACTIVATE,CREATE

UserEvent
 - OCCUR, CREATE,SUSPEND,RESUME,TERMINATE,PARENT_TERMINATE

Stage:
 - automaticActivationRule
 - exit criteria achieved
 - EXIT,DISABLE,ENABLE,MANUAL_START,START,COMPLETE,TERMINATE,FAULT,SUSPEND,RESUME,CREATE,REENABLE,REACTIVATE
 - auto completion
 
CaseModel
 - auto completion
 - manual completion
 - direct exit Criteria
 - CLOSE, COMPLETE,CREATE, SUSPEND, REACTIVATE (from suspended),TERMINATE,FAULT


Generate OCM and JPA test Java classes from UML along with CaseFileItemDefinition includes
Implement OCLProcessDialect that extends JavaProcessDialect
Output ParameterMapping, bindingRefinement and scoped subscriptions
Recursive subscriptions, parameterizable


2. To test more directly
Sentry.Conditions
Sentries with multiple onParts
*.no sentry
*.repetitionRule
*.parentSuspend
*.parentResume
Storage of event variables inside StageInstances
CaseTask.reactivated - check that process is restarted - it failed previously

3. To implement
Planning Service
 - startPlanning (include current parameters, applicabilityRule, authorizedRole)
 - prepareDiscretionaryItem 
   - recheck applicabilityRule
   - recheck authorizedRole
 - submitPlan 
   - update parameters (taskContent AND workItem ),
   - role (do role-assignment in process too) and 
   - status/transition, 
   - (due date?)

Write Output Parameters from Processes to Task.result (CaseTask, ProcessTask, Standalone Case) 

Role management
 - Store roleAssignment in process
 - Validate authorization for planning - get it from the UserInfo service

PlanItemOnPart.sentryRef

Planning Tables - test HumanTask, Case AND Stage planningTables:
 - DiscretionaryItem.entryCriteria
 - DiscretionaryItem.exitCriteria
 - DiscretionaryItem.itemControl.requiredRule
 - DiscretionaryItem.itemControl.automaticActivationRule
 - DiscretionaryItem.itemControl.repititionRule
 - ApplicabilityRule
 - authorizedRoles - pass the Case roles that the user is fulfilling 

Process/Case Task
 - parameter transformation

CaseModel:
 - REACTIVATE (from Failed,Terminated, Completed? need input from OMG)*

4. Current potential problems 
AbstractPersistentSubscriptionManager
 - Find a way to resolve the correct InternalKnowledgeRuntime from  somewhere
 - Find a way to get to the commandScopedEntity manager - the reflection won't work in CDI 

PlanningService (look at TaskServiceFactory interface)
 - find a way to get to the persistence context - the reflection won't work in CDI
 - find a way to get to the InternalTaskService

5. Difficult
Sentry.condition without onParts - when to trigger the evaluation of the condition.
With JCR Property.CHANGE events, try to get the original value and only fire events for ADD_/REMOVE_REFERENCE when they applicable - JCR limitation
Optimize caching of SubscriptionInfo and perhaps even other OCM objects IN OCMSubscriptioinManager

6 Low priority
Plan fragments 
 - For Plan Items
 - For Discretionary Items
ContextRefs for rules
Internationalization
Write Output parameters from Tasks to the containing case's caseFileItem (kind of superfluous in a pass by reference world).

 